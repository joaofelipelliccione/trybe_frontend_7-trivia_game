(this["webpackJsonptrivia-test"]=this["webpackJsonptrivia-test"]||[]).push([[0],{110:function(e,t,n){e.exports=n.p+"static/media/trivia.466d153e.png"},111:function(e,t,n){e.exports=n.p+"static/media/feedback-reviews.ceccd1dc.svg"},112:function(e,t,n){e.exports=n.p+"static/media/feedback-game.10a45c72.svg"},113:function(e,t,n){e.exports=n.p+"static/media/settings-img.049d5392.svg"},116:function(e,t,n){e.exports=n(221)},127:function(e,t,n){},134:function(e,t){},136:function(e,t){},169:function(e,t){},170:function(e,t){},176:function(e,t){},213:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},219:function(e,t,n){},220:function(e,t,n){},221:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(45),c=n.n(o),i=n(22),s=n(12),u=n(4),l=n(5),m=n(7),p=n(6),d=n(8),b=n(18),h=n(9),f=n.n(h),v=n(47),g=n(11),E=function(){var e,t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.a.awrap(fetch("https://opentdb.com/api_token.php?command=request"));case 2:return e=n.sent,n.next=5,f.a.awrap(e.json());case 5:return t=n.sent,n.abrupt("return",t);case 7:case"end":return n.stop()}}))},O=function(e){var t,n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(fetch("https://opentdb.com/api.php?amount=5&token=".concat(e)));case 2:return t=a.sent,a.next=5,f.a.awrap(t.json());case 5:return n=a.sent,a.abrupt("return",n);case 7:case"end":return a.stop()}}))},k=function(e){return{type:"API_REQUEST_ERROR",errorMsg:e}},j=function(e){return{type:"CORRECT_ANSWER",roundScore:e}},y=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).state={userName:"",userMail:"",mustRedirectToGame:!1},e.onInputChange=e.onInputChange.bind(Object(g.a)(e)),e.onLogIn=e.onLogIn.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onInputChange",value:function(e){var t=e.target,n=t.name;this.setState(Object(v.a)({},n,t.value))}},{key:"onLogIn",value:function(){var e,t,n,a,r,o,c;return f.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=this.props,t=e.setLoginInfACProp,n=e.fetchTriviaTokenProp,a=e.cleanScoreACProp,r=this.state,o=r.userName,c=r.userMail,a(),i.next=5,f.a.awrap(n());case 5:this.setState({mustRedirectToGame:!0}),t(o,c);case 7:case"end":return i.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.userName,n=e.userMail;return e.mustRedirectToGame?r.a.createElement(b.a,{to:"/game"}):r.a.createElement("form",{id:"loginForm"},r.a.createElement("label",{htmlFor:"userNameInput"},r.a.createElement("input",{id:"userNameInput",type:"text",name:"userName",value:t,onChange:this.onInputChange,placeholder:"Digite seu nome"})),r.a.createElement("label",{htmlFor:"userMailInput"},r.a.createElement("input",{id:"userMailInput",type:"email",name:"userMail",value:n,onChange:this.onInputChange,placeholder:"Digite seu email"})),r.a.createElement("button",{id:"loginBtn",type:"button",disabled:!(t.length>0&&n.length>0),onClick:this.onLogIn},"Jogar"))}}]),t}(a.Component),C=Object(s.b)(null,(function(e){return{fetchTriviaTokenProp:function(){return e((function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.awrap(E());case 3:if(void 0!==(t=n.sent)){n.next=6;break}throw new Error;case 6:e({type:"GET_TOKEN_SUCCESS",payload:t}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),e(k(n.t0));case 12:case"end":return n.stop()}}),null,null,[[0,9]])}))},setLoginInfACProp:function(t,n){return e({type:"SET_LOGIN_INFO",name:t,email:n})},cleanScoreACProp:function(){return e({type:"CLEAN_SCORE"})}}}))(y),S=n(110),x=n.n(S),w=(n(127),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).state={mustRedirectToSettings:!1},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.state.mustRedirectToSettings?r.a.createElement(b.a,{to:"/settings"}):r.a.createElement("main",{id:"loginPageMain"},r.a.createElement("div",{id:"loginFormContainer"},r.a.createElement("img",{src:x.a,alt:"Logo da Aplica\xe7\xe3o"}),r.a.createElement(C,null),r.a.createElement("button",{id:"settingsBtn",type:"button",onClick:function(){return e.setState({mustRedirectToSettings:!0})}},r.a.createElement("span",{role:"img","aria-label":"Emoji Engrenagem"},"\u2699\ufe0f"))))}}]),t}(r.a.Component)),I=n(69),A=n.n(I),N=(n(213),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.userNameProp,n=e.userMailProp,a=e.scoreProp,r={player:{name:t,assertions:e.assertionsProp,score:a,gravatarEmail:n}};localStorage.setItem("state",JSON.stringify(r));var o=A()(n).toString(),c="https://www.gravatar.com/avatar/".concat(o);localStorage.setItem("urlPictureGravatar",c)}},{key:"render",value:function(){var e=this.props,t=e.userNameProp,n=e.userMailProp,a=e.scoreProp,o=A()(n).toString(),c="https://www.gravatar.com/avatar/".concat(o);return r.a.createElement("header",{id:"websiteHeader"},r.a.createElement("div",{id:"headerPlayerInfo"},r.a.createElement("img",{src:c,alt:"Foto do jogador"}),r.a.createElement("span",{id:"headerUserNameOutput"},t)),r.a.createElement("span",{id:"scoreContainer"},"Placar:",r.a.createElement("output",null," ",a)))}}]),t}(r.a.Component)),P=Object(s.b)((function(e){return{userNameProp:e.user.name,userMailProp:e.user.email,scoreProp:e.trivia.score,assertionsProp:e.trivia.assertions}}),null)(N),R=n(48),T={border:"5px solid rgb(6, 240, 15)"},M={border:"5px solid rgb(255, 0, 0)"},_={border:"1px solid rgb(186, 186, 186)"},q=(n(214),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.onNextQuestClick;return r.a.createElement("button",{id:"nextQuestBtn",type:"button",onClick:e},"Pr\xf3xima")}}]),t}(r.a.Component)),F=(n(215),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={questionsArrIndex:0,mustChangeBorderCol:!1,timerMax:30,hasAnswered:!1},n.changeColors=n.changeColors.bind(Object(g.a)(n)),n.startTimer=n.startTimer.bind(Object(g.a)(n)),n.onAnswerClick=n.onAnswerClick.bind(Object(g.a)(n)),n.onNextQuestClick=n.onNextQuestClick.bind(Object(g.a)(n)),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentDidUpdate",value:function(e,t){1===t.timerMax&&(clearInterval(this.timerInterval),this.changeColors())}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerInterval)}},{key:"onAnswerClick",value:function(e){var t=e.target,n=this.props,a=n.questionsArray,r=n.correctAnsInfoProp,o=this.state,c=o.questionsArrIndex,i=o.timerMax,s=a[c].difficulty,u=1;("hard"===s&&(u=3),"medium"===s&&(u=2),"correctAnswer"===t.className)&&r(Number(10+i*u));this.setState({hasAnswered:!0}),this.changeColors()}},{key:"onNextQuestClick",value:function(){var e=this.state,t=e.questionsArrIndex,n=e.timerMax,a=this.props.renderFeedback;t<4&&this.setState((function(e){return{questionsArrIndex:e.questionsArrIndex+1,mustChangeBorderCol:!1,timerMax:30,hasAnswered:!1}})),t<4&&n<=1&&(this.setState((function(e){return{questionsArrIndex:e.questionsArrIndex+1,mustChangeBorderCol:!1,timerMax:30,hasAnswered:!1}})),this.startTimer()),t>=4&&a()}},{key:"startTimer",value:function(){var e=this;this.timerInterval=setInterval((function(){e.setState((function(e){return{timerMax:e.timerMax-1}}))}),1e3)}},{key:"changeColors",value:function(){this.setState({mustChangeBorderCol:!0})}},{key:"render",value:function(){var e=this,t=this.props.questionsArray,n=this.state,a=n.questionsArrIndex,o=n.mustChangeBorderCol,c=n.timerMax,i=n.hasAnswered;return r.a.createElement("main",{id:"cardContainer1"},t.map((function(t){return r.a.createElement("div",{id:"cardContainer2",key:a},r.a.createElement("div",{id:"questionCard"},r.a.createElement("h3",null,t.category),r.a.createElement("p",null,t.question)),r.a.createElement("div",{id:"answerBtnsContainer"},[t.correct_answer].concat(Object(R.a)(t.incorrect_answers)).sort().map((function(n,a){return r.a.createElement("div",{id:"answerCard",key:a},n===t.correct_answer?r.a.createElement("button",{className:"correctAnswer",type:"button",onClick:e.onAnswerClick,style:o?T:_,disabled:c<=0||i},n):r.a.createElement("button",{className:"incorrectAnswer",type:"button",onClick:e.onAnswerClick,style:o?M:_,disabled:c<=0||i},n))}))))}))[a],r.a.createElement("h4",null,c),(c<=0||i)&&r.a.createElement(q,{onNextQuestClick:this.onNextQuestClick}))}}]),t}(r.a.Component)),L=Object(s.b)(null,(function(e){return{correctAnsInfoProp:function(t){return e(j(t))}}}))(F),Q=n(111),G=n.n(Q),U=n(112),B=n.n(U),J=(n(216),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).setLastGameInfoToLS=e.setLastGameInfoToLS.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"setLastGameInfoToLS",value:function(){var e=this.props,t=e.userNameProp,n=e.scoreProp,a=localStorage.getItem("urlPictureGravatar"),r=JSON.parse(localStorage.getItem("ranking")),o={name:t,score:n,picture:a};if(null===r){var c=[o];localStorage.setItem("ranking",JSON.stringify(c))}if(null!==r){var i=[].concat(Object(R.a)(r),[o]);localStorage.setItem("ranking",JSON.stringify(i))}}},{key:"render",value:function(){return r.a.createElement("div",{id:"feedbackBtnsContainer"},r.a.createElement(i.b,{to:"/ranking"},r.a.createElement("button",{type:"button",onClick:this.setLastGameInfoToLS},"Ver Ranking")),r.a.createElement(i.b,{to:"/"},r.a.createElement("button",{type:"button"},"Jogar Novamente")))}}]),t}(r.a.Component)),D=Object(s.b)((function(e){return{userNameProp:e.user.name,scoreProp:e.trivia.score}}),null)(J),W=(n(217),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.assertionsProp,n=e.scoreProp;return r.a.createElement("main",{id:"feedbackPage"},r.a.createElement("div",{id:"feedbackCard"},r.a.createElement("div",{id:"feedbackMsg"},t<3?r.a.createElement("h2",null,"Poderia ter ido melhor..."):r.a.createElement("h2",null,"Mandou bem!"),r.a.createElement("p",null,"Voc\xea acertou",r.a.createElement("output",null," ",Number(t))," ","quest\xe3o(\xf5es)."),r.a.createElement("p",null,"Um total de",r.a.createElement("output",null," ",Number(n))," ","pontos.")),r.a.createElement(D,null)),r.a.createElement("div",{id:"feedbackImgsContainer"},r.a.createElement("img",{src:G.a,alt:"Feedback",width:"500px"}),r.a.createElement("img",{src:B.a,alt:"Console Antigo",width:"400px"})))}}]),t}(r.a.Component)),H=Object(s.b)((function(e){return{assertionsProp:e.trivia.assertions,scoreProp:e.trivia.score}}),null)(W),V=(n(218),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).state={mustRenderQandA:!0,mustRenderFeedback:!1},e.renderFeedback=e.renderFeedback.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e,t,n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=this.props,t=e.tokenProp,n=e.fetchTriviaQuestionsProp,localStorage.setItem("token",t),a.next=4,f.a.awrap(n(t));case 4:case"end":return a.stop()}}),null,this)}},{key:"renderFeedback",value:function(){this.setState({mustRenderQandA:!1,mustRenderFeedback:!0})}},{key:"render",value:function(){var e=this.state,t=e.mustRenderQandA,n=e.mustRenderFeedback,a=this.props.questionsArrayProp;return r.a.createElement("div",{id:"gamePage"},r.a.createElement(P,null),t&&r.a.createElement(L,{questionsArray:a,renderFeedback:this.renderFeedback}),n&&r.a.createElement(H,null))}}]),t}(r.a.Component)),K=Object(s.b)((function(e){return{tokenProp:e.trivia.token,questionsArrayProp:e.trivia.questions}}),(function(e){return{fetchTriviaQuestionsProp:function(t){return e(function(e){return function(t){var n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.awrap(O(e));case 3:if(void 0!==(n=a.sent)&&0===n.response_code){a.next=6;break}throw new Error;case 6:t({type:"GET_QUESTIONS_SUCCESS",payload:n}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),t(k(a.t0));case 12:case"end":return a.stop()}}),null,null,[[0,9]])}}(t))}}}))(V),z=n(113),X=n.n(z),Y=(n(219),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"settingsPage"},r.a.createElement("h1",null,"P\xe1gina reservada para"," ",r.a.createElement("i",null,"features")," ","futuros"),r.a.createElement(i.b,{to:"/"},r.a.createElement("button",{id:"backToHomeFromSettings",type:"button"},"Voltar p/ Home")),r.a.createElement("img",{src:X.a,alt:"Imagem Settings"}))}}]),t}(r.a.Component)),Z=(n(220),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).state={sortedRankingArray:[]},e.setRankingArray=e.setRankingArray.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setRankingArray()}},{key:"setRankingArray",value:function(){var e=JSON.parse(localStorage.getItem("ranking")).sort((function(e,t){return t.score-e.score}));this.setState({sortedRankingArray:e})}},{key:"render",value:function(){var e=this.state.sortedRankingArray;return r.a.createElement("div",{id:"rankingPage"},r.a.createElement("h1",null,"Ranking dos Melhores Jogadores"),r.a.createElement("div",{id:"rankingContainer"},e.map((function(e,t){return r.a.createElement("div",{id:"eachRankingPosition",key:t},r.a.createElement("img",{src:e.picture,alt:"Foto do jogador"}),r.a.createElement("span",null,e.name),r.a.createElement("output",null,Number(e.score)))}))),r.a.createElement(i.b,{to:"/"},r.a.createElement("button",{type:"button"},"Jogar Novamente")))}}]),t}(r.a.Component)),$=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/",component:w}),r.a.createElement(b.b,{exact:!0,path:"/game",component:K}),r.a.createElement(b.b,{exact:!0,path:"/settings",component:Y}),r.a.createElement(b.b,{exact:!0,path:"/ranking",component:Z}))}}]),t}(a.Component),ee=n(27),te=n(114),ne=n(115),ae=n(28),re={name:"",email:""};var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGIN_INFO":return Object(ae.a)({},e,{name:t.name,email:t.email});default:return e}},ce={token:"",questions:[],assertions:0,score:0,errorMsg:null};var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TOKEN_SUCCESS":return Object(ae.a)({},e,{token:t.payload.token});case"GET_QUESTIONS_SUCCESS":return Object(ae.a)({},e,{questions:t.payload.results});case"API_REQUEST_ERROR":return Object(ae.a)({},e,{errorMsg:t.errorMsg});case"CORRECT_ANSWER":return Object(ae.a)({},e,{assertions:Number(Number(e.assertions)+1),score:Number(Number(t.roundScore)+Number(e.score))});case"CLEAN_SCORE":return Object(ae.a)({},e,{assertions:0,score:0});default:return e}},se=Object(ee.combineReducers)({user:oe,trivia:ie}),ue=Object(ee.createStore)(se,Object(te.composeWithDevTools)(Object(ee.applyMiddleware)(ne.a)));window.Cypress&&(window.store=ue);var le=ue;c.a.render(r.a.createElement(i.a,null,r.a.createElement(s.a,{store:le},r.a.createElement($,null))),document.getElementById("root"))}},[[116,1,2]]]);
//# sourceMappingURL=main.9d97221a.chunk.js.map